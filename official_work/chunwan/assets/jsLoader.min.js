/*! jsLoader 19-02-2016 */
!function(a){var b,c,d=document,e=location.protocol+"//"+location.host+location.pathname.substring(0,location.pathname.lastIndexOf("/")),f=function(){var a=d.getElementsByTagName("script"),e=a[a.length-1],f=e.src;return b=e.getAttribute("data-main"),c=e.getAttribute("data-config"),f.substr(0,f.lastIndexOf("/"))}(),g=!1,h=function(a,b){for(var c,d,e={},f=0,g=b.length;g>f;f++)if(d=b[f],c=a.match(d.reg))return e.name=d.name,e["is"+d.name]=!0,e.version=parseInt(c[1]),e;return{}}(navigator.userAgent,[{name:"IE",reg:/MSIE\s*([\d\.]+;)/i},{name:"FireFox",reg:/Firefox\/(\d+)/i},{name:"Chrome",reg:/Chrome\/(\d+)/i},{name:"Mobile",reg:/mobile/i}]),i={},j={},k={},l=[],m=/^\s+|\s+$/g,n={foo:function(){},getFirstStyle:function(){var a,b,c,e,f=d.head;if(f.querySelectorAll)return f.querySelectorAll("link,style")[0];for(a=f.childNodes,b=a.length,c=0;b>c;c++)if(e=a[c],1==e.nodeType&&("LINK"===e.nodeName.toUpperCase()||"STYLE"===e.nodeName.toUpperCase()))return e},orderLoadStyle:function(a){for(var b,c,e,f,g,h,i=0,j=a.length,k=n.getFirstStyle(),l=d.head;j>i;i++)for(h=a[i],b=n.getManifeset(h).styleList,c=0,e=b.length;e>c;c++)g=b[c],g.href&&(f=d.createElement("link"),f.rel="stylesheet",f.type="text/css",f.href=g.href,l.insertBefore(f,k))},orderLoadModule:function(a,b,c){var d,e=0,f=a.length,g={};for(c=c||[],b=b||n.foo,e=f-1;e>=0;e--)d=a[e],i[d].url&&(b=function(a,b){return function(){j[a]?(g[a]=j[a],b(g,c)):n.loadJSFile(i[a].url,a,function(){var a=this.name;this.ready=!0,j[a]=n.getObjFromNS(a),g[a]=j[a],b(g,c)},function(){c.push({msg:"url of "+this.name+" is incorrect : "+this.src}),b(g,c)})}}(d,b));b(g,c)},asynLoadModule:function(a,b,c){for(var d,e,f=0,g=a.length;g>f;f++)d=a[f],(e=i[d].url)&&n.asynInsertJS(e,d);n.parseCJS(b,c)},asynInsertJS:function(a,b){var c=d.createElement("script");return c.type="text/cjs",c.name=b,c.src=a,d.head.appendChild(c),c},parseCJS:function(a,b){{var c,e,f=d.getElementsByTagName("script"),g=f.length,h={},i=0,j=0;(new Date).getTime()}for(c=0;g>c;c++)e=f[c],"text/cjs"===e.type&&(i+=1,n.loadJSFile(e.src,e.name,function(){j+=1;var a=this.name;h[a]=n.getObjFromNS(a)},function(){j+=1,b.push({msg:"url of "+this.name+" is incorrect : "+this.src})},e));n.defer(function(){return j==i},function(){a&&a(h,b)})},defer:function(a,b,c){var d="function"==typeof a?a():a;c=c||50,setTimeout(function(){d===!0?b&&b():n.defer(a,b,c)},c)},trim:function(a){return null==a?"":a.trim?a.trim():a.replace(m,"")},getManifeset:function(a){var b=k[a],c=0,d=l.length;if(b)return b;for(;d>c;c++)if(l[c].name===a){b=l[c],k[a]=b;break}return b},getDependModules:function(a,b){var c,d=n.getManifeset(a).depend,e=0,f=d.length;if(b=b||[],b.indexOf(a)>=0)return b;for(;f>e;e++)c=l[d[e]],b.indexOf(c.name)<0&&(c.depend.length&&(b=n.getDependModules(c.name,b)),b.indexOf(c.name)<0&&b.push(c.name));return b},loadJSFile:function(a,b,c,e,f){var g=d.createElement("script");return g.name=b,g.readyState?g.onreadystatechange=function(){("loaded"===g.readyState||"complete"===g.readyState)&&(g.onreadystatechange=null,c&&c.call(g))}:(g.onload=c,g.onerror=e),g.type="text/javascript",g.src=a,f?f.parentNode.replaceChild(g,f):d.head.appendChild(g),g},getObjFromNS:function(b,c){for(var d,e=i[b].name_space,f=i[b].module,g=e.split("."),h=0,j=g.length,k=c||a;j>h;h++)if(d=g[h],""!==d){if(null==k[d])break;k=k[d]}return k[f]},calculateDependence:function(a){a=a||[];for(var b,c,d=[],e=0,f=a.length;f>e;e++)c=a[e],b=n.getManifeset(c),b?d.push(b.index):g=!0;return d},loadModule:function(a,b,c){var d,e=a.split(","),f=0,g=e.length,h=[],j=[];for("boolean"==typeof b&&(c=b,b=n.foo);g>f;f++)d=n.trim(e[f]),i[d]?(h=n.getDependModules(d,h),h.push(d)):j.push({msg:"module "+d+" is not exist in configuration"});n.orderLoadStyle(h),c?n.asynLoadModule(h,b,j):n.orderLoadModule(h,b,j)},addModules:function(a,b){var c,d,e;if("string"==typeof a)n.addModule(a,b);else for(a=a||[],c=0,d=a.length;d>c;c++){b=a[c];for(e in b)n.addModule(e,b[e])}g&&n.refreshDependConfig()},refreshDependConfig:function(){var a,b,c,d,e=l;for(a=0,b=e.length;b>a;a++)c=e[a],d=c.require,d.length&&(c.depend=n.calculateDependence(d));g=!1},referJSPath:function(a,b){return b=b||e,0==a.indexOf("../")?(a=a.substring(3),b=b.substring(0,b.lastIndexOf("/")),n.referJSPath(a,b)):(0==a.indexOf("./")?a=a.substring(2):0==a.indexOf("/")&&(b=location.protocol+"//"+location.host),b+"/"+a)},addModule:function(a,b){i[a]={url:b.jsPath?n.referJSPath(b.url,f):b.url,name_space:b.name_space||"window",module:b.module||"window"};var c=n.getManifeset(a),d={name:a,index:l.length,depend:n.calculateDependence(b.require),styleList:b.styleList||[],require:b.require||[]};c?(d.index=c.index,l[c.index]=d,n.clearCache(a)):l.push(d)},clearCache:function(a){a?(k[a]=null,j[a]=null):(k={},j={})},setModuleValue:function(a,b){null!=b&&(j[a]=b)},mainMethod:function(){if(c)try{var a=JSON.stringify(c);n.addModules(a),n.loadJSFile(b)}catch(d){n.configMethod()}else b&&n.loadJSFile(b)},configMethod:function(){var a=c.substring(c.lastIndexOf(".")+1);switch(a){case"js":break;case"json":break;default:console.error("js loader can't support file type "+a)}n.loadJSFile(n.referJSPath(c,e),"_config_"+Date.now(),function(){b&&n.loadJSFile(b)})}};h.isIE&&h.version<9&&(d.head=d.getElementsByTagName("head")[0],Array.prototype.indexOf=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1}),a.PManager={load:n.loadModule,add:n.addModules,setModuleValue:n.setModuleValue},n.mainMethod()}(window);