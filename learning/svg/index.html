<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>learning SVG</title>
    <link rel="shortcut icon" type="image/png" href="">
    <link href="/stylesheets/normalize.css" rel="stylesheet">
    <link href="/stylesheets/main.css" rel="stylesheet">
    <style>
        #cover,
        #cover img{
            width: 200px;
        }
        #points li{
            margin-bottom: 20px;
        }
        .point{
            color: #ff4136;
            font-weight: bold;
        }
        .border-box{
            border: 1px solid #ccc;
        }
        .f-left svg{
            display: block;
            float: left;
        }
        .footer{
            padding: 20px 0;
        }
        .svg-box svg{
            display: inline-block;
            border: 1px solid #333;
        }
    </style>
</head>
<body>
    <section>
        <div class="padding">
            <h5>SVG 精髓(第二版)</h5>
            <div id="cover">
                <img src="http://www.ituring.com.cn/bookcover/1542.738.big.jpg" alt="svg 精髓">
            </div>
        </div>
    </section>
    <section>
        <div class="padding">
            <h6>Points</h6>
            <ul id="points">
                <li>
                    <p>1. Hello SVG</p>
                    <div>
                        <svg id="cat" width="140" height="170" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink">
                            <title>Cat</title>
                            <desc>Stick Figure of a cat</desc>
                            <circle cx="70" cy="95" r="50" style="stroke: black; fill: none;"></circle>
                            <circle cx="55" cy="80" r="5" fill="#333" stroke="none"></circle>
                            <circle cx="85" cy="80" r="5" fill="#333" stroke="none"></circle>
                            <!-- define a group -->
                            <g id="whiskers">
                                <line x1="75" y1="95" x2="135" y2="85" style="stroke: black"></line>
                                <line x1="75" y1="95" x2="135" y2="105" style="stroke: black"></line>
                            </g>
                            <use xlink:href="#whiskers" transform="scale(-1 1) translate(-140 0)"></use>
                            <polyline points="108 62, 90 10, 70 45, 50 10, 32 62" stroke="black" fill="none"></polyline>
                            <polyline points="35 110, 45 120, 95 120, 105 110" fill="none" stroke="black"></polyline>
                            <!-- nose -->
                            <path d="M 75 90 L 65 90 A 5 10 0 0 0 75 90" fill="#ffcccc" stroke="black"></path>
                            <text x="60" y="165" style="font-size: 14pt;" stroke="none" fill="black">Cat</text>
                        </svg>
                    </div>
                </li>
                <li>
                    <p>2. 使用SVG的四种方式</p>
                    <div class="padding">
                        <p>
                            a: 将svg作为图片引入&lt;img src="*.svg"&gt;
                        </p>
                        <p>b: css中引用svg</p>
                        <p>c: 将svg作为应用程序,使用标签object/embed</p>
                        <p>d: 混合文档, svg和(x)html混合</p>
                    </div>
                </li>
                <li>
                    <p>3. <span class="point">坐标系统</span></p>
                    <p><span class="point">viewBox = x y width height</span></p>
                    <p>x,y: viewbox叠加在视窗上的用户坐标系统x轴距离和y轴距离（即将开始叠加的点偏移到viewbox的x，y）; &nbsp;width,height：viewbox的宽高</p>
                    <div>
                        <div class="svg-box">
                            <p>viewbox起始叠加点坐标（0，0）</p>
                            <svg width="60" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <p>viewbox起始叠加点坐标（15，15）</p>
                            <svg width="60" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="15 15 90 90">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <p>viewbox起始叠加点坐标（-15，-15）</p>
                            <svg width="60" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="-15 -15 90 90">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                            </svg>
                        </div>
                    </div>
                    <p class="point">viewbox and preserveAspectRatio</p>
                    <p>preserveAspectRatio = alignment meet（小尺寸缩放，显示全部）</p>
                    <div>
                        <div class="svg-box">
                            <svg width="180" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMinYMid meet">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="21" y="45" style="font-size: 12px;" fill="#000" stroke="none">xMin</text>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <svg width="180" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMid meet">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="21" y="45" style="font-size: 12px;" fill="#000" stroke="none">xMid</text>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <svg width="180" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMaxYMid meet">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="21" y="45" style="font-size: 12px;" fill="#000" stroke="none">xMax</text>
                            </svg>
                        </div>
                    </div>
                    <div class="clear-fix">
                        <div class="svg-box f-left">
                            <svg width="60" height="180" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMin meet">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="21" y="45" style="font-size: 12px;" fill="#000" stroke="none">yMin</text>
                            </svg>
                        </div>
                        <div class="svg-box f-left">
                            <svg width="60" height="180" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMid meet">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="21" y="45" style="font-size: 12px;" fill="#000" stroke="none">yMid</text>
                            </svg>
                        </div>
                        <div class="svg-box f-left">
                            <svg width="60" height="180" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMax meet">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="21" y="45" style="font-size: 12px;" fill="#000" stroke="none">yMax</text>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <p>preserveAspectRatio = alignment slice（大尺寸缩放，显示部分）</p>
                        <div class="clear-fix">
                            <div class="svg-box f-left">
                                <svg width="60" height="180" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMinYMid slice">
                                    <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                    <text x="0" y="45" style="font-size: 12px;" fill="#000" stroke="none">xMin</text>
                                </svg>
                            </div>
                            <div class="svg-box f-left">
                                <svg width="60" height="180" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMid slice">
                                    <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                    <text x="30" y="45" style="font-size: 12px;" fill="#000" stroke="none">xMid</text>
                                </svg>
                            </div>
                            <div class="svg-box f-left">
                                <svg width="60" height="180" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMaxYMid slice">
                                    <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                    <text x="60" y="45" style="font-size: 12px;" fill="#000" stroke="none">xMax</text>
                                </svg>
                            </div>
                        </div>
                        <div class="svg-box">
                            <svg width="180" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMin slice">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="30" y="15" style="font-size: 12px;" fill="#000" stroke="none">yMin</text>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <svg width="180" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMid slice">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="30" y="50" style="font-size: 12px;" fill="#000" stroke="none">yMid</text>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <svg width="180" height="60" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink" viewBox="0 0 90 90" preserveAspectRatio="xMidYMax slice">
                                <circle cx="45" cy="45" r="45" fill="#0074d9" stroke="#333"></circle>
                                <text x="30" y="80" style="font-size: 12px;" fill="#000" stroke="none">yMax</text>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <p>preserveAspectRatio = none（不缩放，拉伸铺满视窗）</p>
                        <div class="svg-box">
                            <svg width="180" height="60" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" preserveAspectRatio="none">
                                <circle cx="45" cy="45" r="45" stroke="#333" fill="#0074d9"></circle>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <svg width="60" height="180" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" preserveAspectRatio="none">
                                <circle cx="45" cy="45" r="45" stroke="#333" fill="#0074d9"></circle>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <p class="point">嵌套坐标系统</p>
                        <div class="svg-box">
                            <svg width="200" height="180" viewBox="0 0 200 200">
                                <circle r="25" cx="25" cy="25" fill="none" stroke="#333"></circle>
                                <rect height="80" width="30" x="100" y="5" stroke="blue" fill="none"></rect>
                                <svg x="100" y="5" width="30" height="80" viewBox="0 0 50 50" preserveAspectRatio="xMaxYMax" meet>
                                    <circle r="25" cx="25" cy="25" fill="none" stroke="#333"></circle>
                                </svg>
                            </svg>
                        </div>
                    </div>
                </li>
                <li>
                    <p>4. 基本形状</p>
                    <div>
                        <p>a. LINE</p>
                        <div class="svg-box">
                            <svg width="100" height="100" viewBox="0 0 50 50">
                                <line x1="0" y1="22" x2="50" y2="22" stroke-width="6" stroke="#000"></line>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <svg width="320" height="220" viewBox="0 0 320 220">
                                <title>lines</title>
                                <desc>fill with lines</desc>
                                <line x1="0" y1="20" x2="320" y2="20" stroke="#000"></line>
                                <line x1="20" y1="0" x2="20" y2="220" stroke="#000"></line>
                                <svg id="grid" width="300" height="200" x="20" y="20">
                                    <line x1="0" y1="20" x2="300" y2="20" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="40" x2="300" y2="40" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="60" x2="300" y2="60" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="80" x2="300" y2="80" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="100" x2="300" y2="100" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="120" x2="300" y2="120" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="140" x2="300" y2="140" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="160" x2="300" y2="160" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="0" y1="180" x2="300" y2="180" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="20" y1="0" x2="20" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="40" y1="0" x2="40" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="60" y1="0" x2="60" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="80" y1="0" x2="80" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="100" y1="0" x2="100" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="120" y1="0" x2="120" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="140" y1="0" x2="140" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="160" y1="0" x2="160" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="180" y1="0" x2="180" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="200" y1="0" x2="200" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="220" y1="0" x2="220" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="240" y1="0" x2="240" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="260" y1="0" x2="260" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                    <line x1="280" y1="0" x2="280" y2="200" stroke="#111" stroke-width="0.5" stroke-dasharray="2"></line>
                                </svg>
                            </svg>
                        </div>
                        <div class="svg-box">
                            <p>虚线设置 dasharray dashoffset</p>
                            <svg width="200" height="80">
                                <line x1="0" x2="200" y1="10" y2="10" stroke-width="4" stroke="#333" stroke-dasharray="10 10"></line>
                                <line x1="0" x2="200" y1="30" y2="30" stroke-width="4" stroke="#333" stroke-dasharray="10 5 5 5"></line>
                                <line x1="0" x2="200" y1="50" y2="50" stroke-width="4" stroke="#333" stroke-dasharray="10 5 10"></line>
                                <line x1="0" x2="200" y1="70" y2="70" stroke-width="4" stroke="#333" stroke-dasharray="100" stroke-dashoffset="-90"></line>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <p>b. RECT</p>
                        <div class="svg-box">
                            <svg width="300" height="100" viewBox="0 0 300 100" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
                                <rect stroke="#000" stroke-dasharray="10 5" x="10" y="10" width="50" height="50" fill="#00669d" fill-opacity=".5"></rect>
                                <rect stroke="#333" x="70" y="10" rx="15" ry="10" width="50" height="50" fill="#ccc" fill-opacity="1"></rect>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <p>c. CIRCLE, Ellipse</p>
                        <div class="svg-box">
                            <svg height="140" width="300" viewBox="0 0 300 140" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink">
                                <circle cx="27" cy="27" r="25" fill="none" stroke="#333" stroke-width="4"></circle>
                                <ellipse cx="52" cy="85" rx="50" ry="25" fill="none" stroke="#333" stroke-width="1"></ellipse>
                                <ellipse cx="150" cy="70" rx="25" ry="50" fill="#e3a" fill-opacity=".6" stroke-width="1" stroke="#333"></ellipse>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <p>d. Polygon</p>
                        <div class="svg-box">
                            <svg width="300" height="120" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg">
                                <polygon points="15 10 55 10 45 20 5 20" style="fill: none; stroke: #333;"></polygon>
                                <polygon points="60 89 56 48 78 89 85 45" style="fill: none; stroke: #333"></polygon>
                             </svg>
                        </div>
                    </div>
                </li>
                <li>
                    <p>5. 文档结构</p>
                    <div>文档和表现分离，使用css控制svg样式</div>
                    <div class="svg-box">
                        <svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <style type="text/css"><![CDATA[
                               .circle{
                                    fill: red;
                                }
                                ]]></style>
                            </defs>
                            <circle class="circle" cx="20" cy="20" r="20" fill="green" stroke="#333"></circle>
                        </svg>
                    </div>
                    <div>分组和引用对象 use &lt;g&gt;</div>
                    <div class="svg-box">
                        <div>使用&lt;use&gt;引用分组时，定位（x,y）是基于所引用的g来确定的</div>
                        <svg width="300" height="100" viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink">
                            <title>use &lt;g> and &lt;use></title>
                            <g style="stroke: #333; fill: none;" id="little_man">
                                <desc>little man</desc>
                                <circle cx="20" cy="20" r="15"></circle>
                                <line x1="6" y1="40" x2="36" y2="40"></line>
                                <line x1="20" y1="36" x2="20" y2="56"></line>
                                <line x1="20" y1="56" x2="10" y2="76"></line>
                                <line x1="20" y1="56" x2="30" y2="76"></line>
                            </g>
                            <use xlink:href="#little_man" x="15" y="0"></use>
                            <use xlink:href="#little_man" x="30" y="0"></use>
                            <use xlink:href="#little_man" x="45" y="0"></use>
                            <use xlink:href="#little_man" x="60" y="0"></use>
                        </svg>
                    </div>
                    <div>使用&lt;defs>来定义分组，不显示，use定位坐标依据用户坐标确定</div>
                    <div class="svg-box">
                        <svg width="300" height="120" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink">
                            <title>defs a group</title>
                            <desc>JUST DEFINE A GROUP</desc>
                            <defs>
                                <g id="man" style="stroke: #333;">
                                    <title>a man</title>
                                    <desc>a little man</desc>
                                    <circle cx="16" cy="16" r="15"></circle>
                                    <line x1="1" y1="36" x2="31" y2="36"></line>
                                    <line x1="16" y1="32" x2="16" y2="48"></line>
                                    <line x1="16" y1="48" x2="8" y2="56"></line>
                                    <line x1="16" y1="48" x2="24" y2="56"></line>
                                </g>
                            </defs>
                            <use xlink:href="#man" x="0" y="0" style="fill: #00669d;"></use>
                            <use xlink:href="#man" x="30" y="0" style="fill: #111;"></use>
                            <use xlink:href="#man" x="60" y="0" style="fill: #4a5;"></use>
                            <use xlink:href="#man" x="90" y="0" style="fill: #64c;"></use>
                            <use xlink:href="#man" x="120" y="0" style="fill: #7b0;"></use>
                            <use xlink:href="#man" x="150" y="0" style="fill: #c5d;"></use>
                            <use xlink:href="#man" x="180" y="0" style="fill: #f60;"></use>
                        </svg>
                    </div>
                    <div>使用&lt;symbol>元素实现另一种组合方式, symbol不会显示，所以无放置到需defs元素内,习惯上依旧用defs包裹symbol, <span class="point">symbol可以使用viewbox，preserveAspectRatio</span></div>
                    <div class="svg-box">
                        <svg width="300" height="120" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink">
                            <defs>
                                <g id="angle">
                                    <title>hehe</title>
                                    <desc>hehe</desc>
                                    <polygon points="15 0 30 18 0 18"></polygon>
                                </g>
                                <symbol id="symbol-angle" viewBox="0 0 30 18" preserveAspectRatio="xMaxYMax meet">
                                    <polygon points="15 0 30 18 0 18"></polygon>
                                </symbol>
                            </defs>
                            <use xlink:href="#angle" style="fill:#ccc; stroke: #333;"></use>
                            <use xlink:href="#symbol-angle" x="30" y="0" height="36" width="30" style="fill:#ccc; stroke: #333;"></use>
                        </svg>
                    </div>
                </li>
                <li>
                    <p>6. 坐标系统变换</p>
                    <div>transform之translate, 此translate与canvas中的translate一致，移动画布而不是矩形</div>
                    <div class="svg-box">
                        <svg width="300" height="120" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink">
                            <g id="square" style="fill:none; stroke: #333;">
                                <rect x="10" y="10" width="30" height="30"></rect>
                            </g>
                            <use xlink:href="#square" x="0" y="0" transform="translate(30, 30)"></use>
                            <use xlink:href="#square" x="10" y="0" transform="translate(60, 0)"></use>
                        </svg>
                    </div>
                    <div>transform之scale</div>
                    <div class="svg-box">
                        <div>偏移量也被放大了，呵呵(引用上图中的rect)</div>
                        <svg width="300" height="120" xmlns="http://www.w3.org/2000/svg" xmlns:link="http://www.w3.org/1999/xlink">
                            <use xlink:href="#square" x="0" y="0" transform="scale(2 2)"></use>
                        </svg>
                    </div>
                </li>
            </ul>
        </div>
    </section>
    <footer></footer>
    <script type="text/javascript">
        // set shortcut icon
        var canvas = document.createElement('canvas');
        canvas.width=50;
        canvas.height=50;
        var ctx = canvas.getContext('2d');
        ctx.font = 'normal normal 20px "Microsoft YaHei", "STHeiti Light", sans-serif';
        ctx.fillStyle = 'transparent';
        ctx.strokeStyle = '#000';
        ctx.strokeText('SVG', 4, 30);
        ctx.rect(0, 0, 50, 50);
        ctx.stroke();
        // set shortcut icon
        var link = document.getElementsByTagName('link')[0];
        link.href = canvas.toDataURL('image/png',.8);
    </script>
</body>
</html>